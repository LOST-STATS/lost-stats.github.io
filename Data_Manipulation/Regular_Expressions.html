
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Regular Expressions | LOST</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Regular Expressions" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="LOST" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Regular Expressions","url":"/Data_Manipulation/Regular_Expressions.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
</head>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>
  <div class="side-bar">
    <div class="site-header">
      <a href="/" class="site-title lh-tight">
  LOST
</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/data_manipulation.html" class="nav-list-link">Data Manipulation</a><ul class="nav-list "><li class="nav-list-item  active"><a href="/Data_Manipulation/Regular_Expressions.html" class="nav-list-link active">Regular Expressions</a></li><li class="nav-list-item "><a href="/Data_Manipulation/collapse_a_data_set.html" class="nav-list-link">Collapse a Data Set</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/Combining_Datasets/combining_datasets_overview.html" class="nav-list-link">Combining Datasets</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Combining_Datasets/combining_datasets_vertical_combination.html" class="nav-list-link">Vertical Combination</a>
                      </li><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Combining_Datasets/combining_datasets_horizontal_merge_deterministic.html" class="nav-list-link">Horizontal Combination (Deterministic)</a>
                      </li></ul></li><li class="nav-list-item "><a href="/Data_Manipulation/creating_a_variable_with_group_calculations.html" class="nav-list-link">Creating a Variable with Group Calculations</a></li><li class="nav-list-item "><a href="/Data_Manipulation/creating_categorical_variables.html" class="nav-list-link">Creating Categorical Variables</a></li><li class="nav-list-item "><a href="/Data_Manipulation/Creating_Dummy_Variables/creating_dummy_variables.html" class="nav-list-link">Creating Dummy Variables</a></li><li class="nav-list-item "><a href="/Data_Manipulation/determine_the_observation_level_of_a_data_set.html" class="nav-list-link">Determine the Observation Level of a Data Set</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/Reshaping/reshape.html" class="nav-list-link">Reshaping Data</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_wide_to_long.html" class="nav-list-link">Reshape Panel Data from Wide to Long</a>
                      </li><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_long_to_wide.html" class="nav-list-link">Reshape Panel Data from Long to Wide</a>
                      </li></ul></li><li class="nav-list-item "><a href="/Data_Manipulation/rowwise_calculations.html" class="nav-list-link">Rowwise Calculations</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Geo-Spatial/Geo-spatial.html" class="nav-list-link">Geo-Spatial</a><ul class="nav-list "><li class="nav-list-item "><a href="/Geo-Spatial/choropleths.html" class="nav-list-link">Choropleths</a></li><li class="nav-list-item "><a href="/Geo-Spatial/geocoding.html" class="nav-list-link">Geocoding</a></li><li class="nav-list-item "><a href="/Geo-Spatial/handling_raster_data.html" class="nav-list-link">Handling Raster Data</a></li><li class="nav-list-item "><a href="/Geo-Spatial/merging_shape_files.html" class="nav-list-link">Merging Shape Files</a></li><li class="nav-list-item "><a href="/Geo-Spatial/spatial_joins.html" class="nav-list-link">Spatial Joins</a></li><li class="nav-list-item "><a href="/Geo-Spatial/spatial_lag_model.html" class="nav-list-link">Spatial Lag Model</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Machine_Learning/Machine_Learning.html" class="nav-list-link">Machine Learning</a><ul class="nav-list "><li class="nav-list-item "><a href="/Machine_Learning/Nearest_Neighbor.html" class="nav-list-link">K-Nearest Neighbor Matching</a></li><li class="nav-list-item "><a href="/Machine_Learning/artificial_neural_network.html" class="nav-list-link">Artificial Neural Network</a></li><li class="nav-list-item "><a href="/Machine_Learning/boosted_regression_trees.html" class="nav-list-link">Boosted Regression Trees</a></li><li class="nav-list-item "><a href="/Machine_Learning/causal_forest.html" class="nav-list-link">Causal Forest</a></li><li class="nav-list-item "><a href="/Machine_Learning/decision_trees.html" class="nav-list-link">Decision Trees</a></li><li class="nav-list-item "><a href="/Machine_Learning/penalized_regression.html" class="nav-list-link">Penalized Regression</a></li><li class="nav-list-item "><a href="/Machine_Learning/random_forest.html" class="nav-list-link">Random Forest</a></li><li class="nav-list-item "><a href="/Machine_Learning/support_vector_machine.html" class="nav-list-link">Support Vector Machine</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Model_Estimation.html" class="nav-list-link">Model Estimation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/OLS/OLS.html" class="nav-list-link">Ordinary Least Squares</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/ANOVA.html" class="nav-list-link">ANOVA</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/simple_linear_regression.html" class="nav-list-link">Simple Linear Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/stepwise_regression.html" class="nav-list-link">Stepwise Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/interaction_terms_and_polynomials.html" class="nav-list-link">Interaction Terms and Polynomials</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/fixed_effects_in_linear_regression.html" class="nav-list-link">Fixed Effects in Linear Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Matching/matching.html" class="nav-list-link">Matching</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Matching/entropy_balancing.html" class="nav-list-link">Entropy Balancing</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Matching/propensity_score_matching.html" class="nav-list-link">Propensity Score Matching</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/GLS/GLS.html" class="nav-list-link">Generalised Least Squares</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/gmm.html" class="nav-list-link">Generalized Method of Moments</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/heckman_correction_model.html" class="nav-list-link">Heckman Correction Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/logit_model.html" class="nav-list-link">Logit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/mcfaddens_choice_model.html" class="nav-list-link">McFadden's Choice Model (Alternative-Specific Conditional Logit)</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/ordered_probit_logit.html" class="nav-list-link">Ordered Probit/Logit</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/probit_model.html" class="nav-list-link">Probit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/tobit.html" class="nav-list-link">Tobit Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/quantile_regression.html" class="nav-list-link">Quantile Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Multilevel_Models/Multilevel_Models.html" class="nav-list-link">Multilevel Models</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/linear_mixed_effects_regression.html" class="nav-list-link">Linear Mixed-Effects Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/mixed_logit.html" class="nav-list-link">Mixed Logit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/random_mixed_effects_estimation.html" class="nav-list-link">Random/Mixed Effects in Linear Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Research_Design/Research_Design.html" class="nav-list-link">Research Design</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/density_discontinuity_test.html" class="nav-list-link">Density Discontinuity Tests for Regression Discontinuity</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/event_study.html" class="nav-list-link">Difference in Differences Event Study</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/instrumental_variables.html" class="nav-list-link">Instrumental Variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/regression_discontinuity_design.html" class="nav-list-link">Regression Discontinuity Design</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/synthetic_control_method.html" class="nav-list-link">Synthetic Control</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/two_by_two_difference_in_difference.html" class="nav-list-link">2x2 Difference in Difference</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Statistical_Inference/Statistical_Inference.html" class="nav-list-link">Statistical Inference</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/Marginal_Effects_in_Nonlinear_Regression.html" class="nav-list-link">Marginal Effects in Nonlinear Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/linear_hypothesis_tests.html" class="nav-list-link">Linear Hypothesis Tests</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/nonlinear_hypothesis_tests.html" class="nav-list-link">Nonlinear Hypothesis Tests</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/nonstandard_errors.html" class="nav-list-link">Nonstandard Errors</a>
                      </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Presentation.html" class="nav-list-link">Presentation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Figures/Figures.html" class="nav-list-link">Figures</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Adding_and_Labeling_a_Reference_Line.html" class="nav-list-link">Adding and Labeling a Reference Line</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Animated_graphs.html" class="nav-list-link">Animated Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Scatterplots.html" class="nav-list-link">Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Styling_Scatterplots.html" class="nav-list-link">Styling Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/bar_graphs.html" class="nav-list-link">Bar Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/binscatter.html" class="nav-list-link">Binned Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/color_palettes.html" class="nav-list-link">Color Palettes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/density_plots.html" class="nav-list-link">Density Plots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/faceted_graphs.html" class="nav-list-link">Faceted Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/formatting_graph_axes.html" class="nav-list-link">Formatting Graph Axes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/formatting_graph_legends.html" class="nav-list-link">Formatting Graph Legends</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/graph_themes.html" class="nav-list-link">Graph Themes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/heatmap_colored_correlation_matrix.html" class="nav-list-link">Heatmap Colored Correlation Matrix</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/histograms.html" class="nav-list-link">Histograms</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/line_graph_with_labels_at_the_beginning_or_end.html" class="nav-list-link">Line Graph with Labels at the Beginning or End of Lines</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/line_graphs.html" class="nav-list-link">Line Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_categorical_variables.html" class="nav-list-link">Marginal effects plots for interactions with categorical variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_continuous_variables.html" class="nav-list-link">Marginal Effects Plots for Interactions with Continuous Variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/sankey_diagrams.html" class="nav-list-link">Sankey Diagrams</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/scatterplot_by_group_on_shared_axes.html" class="nav-list-link">Scatterplot by Group on Shared Axes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/styling_line_graphs.html" class="nav-list-link">Styling Line Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/summary_graphs.html" class="nav-list-link">Graphing a By-Group or Over-Time Summary Statistic</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Tables/Tables.html" class="nav-list-link">Tables</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Balance_Tables.html" class="nav-list-link">Balance Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Correlation_Matrix.html" class="nav-list-link">Correlation Matrix</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Cross-Tabulation.html" class="nav-list-link">Cross-Tabulation</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Custom_Tables.html" class="nav-list-link">Building Custom Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Regression_Tables.html" class="nav-list-link">Regression Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Summary_Statistics_Tables.html" class="nav-list-link">Summary Statistics Tables</a>
                      </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Time_Series/Time_Series.html" class="nav-list-link">Time Series</a><ul class="nav-list "><li class="nav-list-item "><a href="/Time_Series/AR-models.html" class="nav-list-link">AR Models</a></li><li class="nav-list-item "><a href="/Time_Series/ARCH_Model.html" class="nav-list-link">ARCH Model</a></li><li class="nav-list-item "><a href="/Time_Series/ARIMA-models.html" class="nav-list-link">ARIMA Models</a></li><li class="nav-list-item "><a href="/Time_Series/ARMA-models.html" class="nav-list-link">ARMA Models</a></li><li class="nav-list-item "><a href="/Time_Series/Autocorrelation_Function.html" class="nav-list-link">Autocorrelation Function</a></li><li class="nav-list-item "><a href="/Time_Series/GARCH_Model.html" class="nav-list-link">GARCH Model</a></li><li class="nav-list-item "><a href="/Time_Series/Granger_Causality.html" class="nav-list-link">Granger Causality</a></li><li class="nav-list-item "><a href="/Time_Series/MA_Model.html" class="nav-list-link">MA Models</a></li><li class="nav-list-item "><a href="/Time_Series/Rolling_Regression.html" class="nav-list-link">Rolling Regression</a></li><li class="nav-list-item "><a href="/Time_Series/State_Space_Models.html" class="nav-list-link">State Space Models</a></li><li class="nav-list-item "><a href="/Time_Series/VAR-models.html" class="nav-list-link">VAR Models</a></li><li class="nav-list-item "><a href="/Time_Series/creating_time_series_dataset.html" class="nav-list-link">Creating a Time Series Dataset</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Other/Other.html" class="nav-list-link">Other</a><ul class="nav-list "><li class="nav-list-item "><a href="/Other/create_a_conda_package.html" class="nav-list-link">Create a Conda Package (Python)</a></li><li class="nav-list-item "><a href="/Other/get_a_list_of_files.html" class="nav-list-link">Get a List of Files</a></li><li class="nav-list-item "><a href="/Other/import_a_foreign_data_file.html" class="nav-list-link">Import a Foreign Data File</a></li><li class="nav-list-item "><a href="/Other/importing_delimited_files.html" class="nav-list-link">Import a Delimited Data File (CSV, TSV)</a></li><li class="nav-list-item "><a href="/Other/set_a_working_directory.html" class="nav-list-link">Set a Working Directory</a></li><li class="nav-list-item "><a href="/Other/simple_web_scrape.html" class="nav-list-link">Simple Web Scraping</a></li><li class="nav-list-item "><a href="/Other/task_scheduling_with_github_actions.html" class="nav-list-link">Task Scheduling with Github Actions</a></li></ul></li><li class="nav-list-item"><a href="/Desired_Nonexistent_Pages/desired_nonexistent_pages.html" class="nav-list-link">Desired Nonexistent Pages</a></li><li class="nav-list-item"><a href="/Contributing/Contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul>
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search LOST" aria-label="Search LOST" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
                <li class="breadcrumb-nav-list-item"><a href="/Data_Manipulation/data_manipulation.html">Data Manipulation</a></li>
              <li class="breadcrumb-nav-list-item"><span>Regular Expressions</span></li>
            </ol>
          </nav>
      <div id="main-content" class="main-content" role="main">
          <h1 id="introduction">
          <a href="#introduction" aria-labelledby="introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
      </h1>
<p>Regular expressions (AKA “Regex”) can be thought of as a pattern of characters that describes a specific set of strings with a common structure. They can also be thought of as <a href="https://www.youtube.com/watch?v=528Jc3q86F8">state machines</a>. String functions can take a character variable and a regular expression, and show you whether and how they match. Regex is useful for extracting information from text such as documents, spreadsheets, log files, and code. Regex utilizes metacharacters that have specific meaning: <code class="language-plaintext highlighter-rouge">$ * + . ? [ ] ^ { } | ( ) \</code> to find what we are looking for within the string. They can be used for string matching / replacing, and are supported across several programming languages such as Python, R, Stata, SQL, and more, although syntax does sometimes differ slightly between languages. The metacharacters can be broken up into a few different groups based on their meaning.</p>
<ul>
  <li>Specify the amount of repetitions of the pattern
    <ul>
      <li><code class="language-plaintext highlighter-rouge">*</code>: matches at least 0 times.</li>
      <li><code class="language-plaintext highlighter-rouge">+</code>: matches at least 1 times.</li>
      <li><code class="language-plaintext highlighter-rouge">?</code>: matches at most 1 times.</li>
      <li><code class="language-plaintext highlighter-rouge">{n}</code>: matches exactly n times.</li>
      <li><code class="language-plaintext highlighter-rouge">{n,}</code>: matches at least n times.</li>
      <li><code class="language-plaintext highlighter-rouge">{n,m}</code>: matches between n and m times.</li>
    </ul>
  </li>
  <li>Specify where the match will be located in the string or word
    <ul>
      <li><code class="language-plaintext highlighter-rouge">^</code>: matches the start of the string.</li>
      <li><code class="language-plaintext highlighter-rouge">$</code>: matches the end of the string.</li>
      <li><code class="language-plaintext highlighter-rouge">\b</code>: matches the empty string at either edge of a <em>word</em>. Don’t confuse it with <code class="language-plaintext highlighter-rouge">^ $</code> which marks the edge of a <em>string</em>.</li>
      <li><code class="language-plaintext highlighter-rouge">\B</code>: matches the empty string provided it is not at an edge of a word.</li>
    </ul>
  </li>
  <li>Operators
    <ul>
      <li><code class="language-plaintext highlighter-rouge">.</code>: matches any single character.</li>
      <li><code class="language-plaintext highlighter-rouge">[...]</code>: a character list, matches any one of the characters inside the square brackets.</li>
      <li><code class="language-plaintext highlighter-rouge">[^...]</code>: an inverted character list. Matches any characters <strong>except</strong> those inside the square brackets.</li>
      <li><code class="language-plaintext highlighter-rouge">\</code>: suppress the special meaning of metacharacters in regular expression.</li>
      <li><code class="language-plaintext highlighter-rouge">|</code>: an “or” operator. Matches patterns on either side of the <code class="language-plaintext highlighter-rouge">|</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">(...)</code>: grouping in regular expressions.</li>
    </ul>
  </li>
  <li>Specify entire classes of characters like numbers or letters
    <ul>
      <li>Two Types: One uses  <code class="language-plaintext highlighter-rouge">[:</code> and <code class="language-plaintext highlighter-rouge">:]</code> around a predefined name, and the other uses <code class="language-plaintext highlighter-rouge">\</code> and a special character</li>
      <li><code class="language-plaintext highlighter-rouge">[:digit:]</code> or <code class="language-plaintext highlighter-rouge">\d</code>: digits, equivalent to <code class="language-plaintext highlighter-rouge">[0-9]</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">\D</code>: non-digits, equivalent to <code class="language-plaintext highlighter-rouge">[^0-9]</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">[:lower:]</code>: lower-case letters, equivalent to <code class="language-plaintext highlighter-rouge">[a-z]</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">[:upper:]</code>: upper-case letters, equivalent to <code class="language-plaintext highlighter-rouge">[A-Z]</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">[:punct:]</code>: punctuation characters.</li>
      <li><code class="language-plaintext highlighter-rouge">[:alnum:]</code>: alphanumeric characters.</li>
    </ul>
  </li>
  <li>Subexpressions can refer back to previously found strings
    <ul>
      <li><code class="language-plaintext highlighter-rouge">()</code> can be wrapped around a part of the regular expression, and that part will be remembered.</li>
      <li><code class="language-plaintext highlighter-rouge">\1</code>, later in that regular expression, will refer to the contents of the first <code class="language-plaintext highlighter-rouge">()</code> being matched again (and <code class="language-plaintext highlighter-rouge">\2</code> would get the second, and so on). For example, <code class="language-plaintext highlighter-rouge">(.)\1</code> would match any string with a repeated character. This can also be used in substitution.  For example, regex <code class="language-plaintext highlighter-rouge">.*(pp).*</code> being substituted with <code class="language-plaintext highlighter-rouge">a\1ly</code> would replace <code class="language-plaintext highlighter-rouge">apple</code> with <code class="language-plaintext highlighter-rouge">apply</code>.</li>
    </ul>
  </li>
</ul>
      <h2 id="keep-in-mind">
          <a href="#keep-in-mind" aria-labelledby="keep-in-mind" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Keep in Mind
      </h2>
<ul>
  <li>When using regular expressions everything is essentially a character, and we are writing patterns to match a specific sequence of characters.</li>
  <li>Most patterns use normal ASCII, which includes letters, digits, punctuation and other symbols like %#$@!, but unicode characters can be used to match any type of international text.</li>
</ul>
      <h1 id="implementations">
          <a href="#implementations" aria-labelledby="implementations" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementations
      </h1>
      <h2 id="python">
          <a href="#python" aria-labelledby="python" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Python
      </h2>
<p>In Python, regular expressions are implemented in the <a href="https://docs.python.org/3/library/re.html"><code class="language-plaintext highlighter-rouge">re</code></a> module or, alternatively, through the <code class="language-plaintext highlighter-rouge">.str</code> interface in <code class="language-plaintext highlighter-rouge">pandas</code>. Let’s go through a few examples:</p>
<p>If we want to search for all words that started with the characters “ab” we would use the character <code class="language-plaintext highlighter-rouge">^</code> to specify we want words that start with “ab”.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s">"abcd"</span><span class="p">,</span> <span class="s">"cdab"</span><span class="p">,</span> <span class="s">"cabd"</span><span class="p">,</span> <span class="s">"c abd"</span><span class="p">]</span>
<span class="n">filtered_strings</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span> <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">r"^ab"</span><span class="p">,</span> <span class="n">s</span><span class="p">)]</span>

<span class="k">print</span><span class="p">(</span><span class="n">filtered_strings</span><span class="p">)</span>
<span class="c1"># ['abcd']
</span></code></pre></div></div>
<p>Some notes about this example:</p>
<ul>
  <li>We’ve used the <code class="language-plaintext highlighter-rouge">re.search</code> function. Sometimes people instead use <a href="https://docs.python.org/3/library/re.html#search-vs-match"><code class="language-plaintext highlighter-rouge">re.match</code></a>. <code class="language-plaintext highlighter-rouge">re.match</code> only looks for matches at the <em>beginning</em> of strings, so the functions <code class="language-plaintext highlighter-rouge">re.search(r"^ab", s)</code> and <code class="language-plaintext highlighter-rouge">re.match(r"ab", s)</code> are equivalent.</li>
  <li>You’ll notice that instead of using plain double quotes around our regular expression we used the pattern <code class="language-plaintext highlighter-rouge">r"^ab"</code>. The <code class="language-plaintext highlighter-rouge">r</code> means “raw string”, and it turns off (almost) all escaping. Thus, <code class="language-plaintext highlighter-rouge">r"\d"</code> and <code class="language-plaintext highlighter-rouge">"\\d"</code> are equivalent. Because of the how common <code class="language-plaintext highlighter-rouge">\</code> is in regular expressions, it’s usually wise to use raw strings for regular expressions to avoid confusing errors.</li>
</ul>
<p>Alternatively, we could use also implement the above example with pandas:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">"strings"</span><span class="p">:</span> <span class="p">[</span><span class="s">"abcd"</span><span class="p">,</span> <span class="s">"cdab"</span><span class="p">,</span> <span class="s">"cabd"</span><span class="p">,</span> <span class="s">"c abd"</span><span class="p">]})</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">"strings"</span><span class="p">].</span><span class="nb">str</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">r"^ab"</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="bp">True</span><span class="p">)]</span>
</code></pre></div></div>
<p>If we instead want to <em>replace</em> the text that matches a regular expression, we can use the <code class="language-plaintext highlighter-rouge">re.sub</code> or pandas <code class="language-plaintext highlighter-rouge">.str.replace</code>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s">"what"</span><span class="p">,</span> <span class="s">"why"</span><span class="p">,</span> <span class="s">"you"</span><span class="p">,</span> <span class="s">"blazers"</span><span class="p">,</span> <span class="s">"fire"</span><span class="p">,</span> <span class="s">"hello"</span><span class="p">]</span>

<span class="c1"># Replace all the vowels in strings containing a vowel with "!"
</span><span class="n">changed_strings</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r"[aeiou]"</span><span class="p">,</span> <span class="s">"!"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span>
    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">r"[aeiou]"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">changed_strings</span><span class="p">)</span>
<span class="c1"># ['wh!t', 'y!!', 'bl!z!rs', 'f!r!', 'h!ll!']
</span>
<span class="c1"># Do the same thing in pandas
</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">"strings"</span><span class="p">:</span> <span class="n">strings</span><span class="p">})</span>
<span class="n">changed_series</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="n">df</span><span class="p">[</span><span class="s">"strings"</span><span class="p">].</span><span class="nb">str</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">r"[aeiou]"</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="s">"strings"</span>
<span class="p">].</span><span class="nb">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">r"[aeiou]"</span><span class="p">,</span> <span class="s">"!"</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">changed_series</span><span class="p">)</span>
<span class="c1"># 0       wh!t
# 2        y!!
# 3    bl!z!rs
# 4       f!r!
# 5      h!ll!
# Name: strings, dtype: object
</span></code></pre></div></div>
<p>You can also see <a href="https://www.pcwdld.com/python-regex-cheat-sheet#wbounce-modal">this guide</a> for a fuller description of all the tools available.</p>
      <h2 id="r">
          <a href="#r" aria-labelledby="r" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> R
      </h2>
<p>In R, we can write our Regular expressions using the base R functions or with the <strong>stringr</strong> package functions. <a href="https://www.garrickadenbuie.com/project/regexplain/">RegExplain</a> is an RStudio addin for regular expressions. Regular expressions can be tricky at times, and RegExplain can help make it easier. RegExplain will allow you to build your regular expressions interactively.</p>
<p>First, we can write a regular expression using the base R functions. Additional <a href="https://github.com/STAT545-UBC/STAT545-UBC-original-website/blob/master/block022_regular-expression.md">resources</a> on Regex, string functions, and syntax. We can use the grep() function to identify filenames, for example. If we set the argument <code class="language-plaintext highlighter-rouge">value = TRUE</code>, <code class="language-plaintext highlighter-rouge">grep()</code> returns the matches, while <code class="language-plaintext highlighter-rouge">value = FALSE</code> returns their indices. <code class="language-plaintext highlighter-rouge">grepl()</code> is a similar function but returns a logical vector. Including <code class="language-plaintext highlighter-rouge">ignore.case = TRUE</code> ignores case sensitivity. Some special characters in R cannot be directly coded in a string (i.e <code class="language-plaintext highlighter-rouge">'</code>), so we have to “escape” the single quote in the pattern, by preceding it with <code class="language-plaintext highlighter-rouge">\</code>.</p>
<p>One important note about working with regular expressions in R is that, because <code class="language-plaintext highlighter-rouge">\</code> itself needs to be escaped, we must escape this metacharacter with a double backslash like <code class="language-plaintext highlighter-rouge">\\$</code>.</p>
<p>For example, if we want to search for all words that started with the characters “ab” we would use the character <code class="language-plaintext highlighter-rouge">^</code> to specify we want words that start with “ab”.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#create a string </span><span class="w">
</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cdab"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cabd"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c abd"</span><span class="p">))</span><span class="w"> 

</span><span class="c1"># regex to search for strings that start with ab</span><span class="w">
</span><span class="n">grep</span><span class="p">(</span><span class="s2">"^ab"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">grepl()</code> will tell us if there is a match to the pattern. Functions like <code class="language-plaintext highlighter-rouge">sub()</code> and <code class="language-plaintext highlighter-rouge">gsub()</code> replace the matches with new text. There are plenty of subexpressions so I will show a few.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"what"</span><span class="p">,</span><span class="w"> </span><span class="s2">"why"</span><span class="p">,</span><span class="w"> </span><span class="s2">"you"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blazers"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fire"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">)</span><span class="w"> </span><span class="c1"># create string</span><span class="w">

</span><span class="c1"># here we get TRUE/FALSE depending on if the text has any of the vowels "[aeiou]"    </span><span class="w">
</span><span class="n">grepl</span><span class="p">(</span><span class="s2">"[aeiou]"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">)</span><span class="w">

</span><span class="c1">#we can use sub() and gsub() to replace text</span><span class="w">
</span><span class="n">sub</span><span class="p">(</span><span class="s2">"[aeiou]"</span><span class="p">,</span><span class="w"> </span><span class="s2">"!"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p>Second, We can write the regular expression using the stringr package, which is said to be easier to use and remember. We can write a regular expression and use the stringr::str_match() function to extract all the phone numbers from the string. There are a number of other useful string functions in the <a href="https://github.com/hadley/stringr">stringr</a> package. Additional resources on Regex, string functions, and syntax can be found <a href="https://github.com/STAT545-UBC/STAT545-UBC-original-website/blob/master/block022_regular-expression.md">here</a>.</p>
<p>Similar to using the base R function, we still want to use <code class="language-plaintext highlighter-rouge">^</code> to specify we want a work that starts with “ab”. Now we have to specify that we want the entire word, not just the “ab” portion by including the <code class="language-plaintext highlighter-rouge">.*</code> syntax, which means “look for any character (<code class="language-plaintext highlighter-rouge">.</code>) any number of times (<code class="language-plaintext highlighter-rouge">*</code>)”, in other words it picks up anything.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># load package</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">stringr</span><span class="p">)</span><span class="w">

</span><span class="c1"># create a string</span><span class="w">
</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cdab"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cabd"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c abd"</span><span class="p">))</span><span class="w"> 

</span><span class="c1"># regex to search for strings that start with ab</span><span class="w">
</span><span class="n">str_match</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="s2">"^ab.*"</span><span class="p">)</span><span class="w">

</span><span class="c1"># Similar to the grepl function there is str_detect, and similar to the gsub function there is str_replace</span><span class="w">
</span><span class="n">str_detect</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="s2">"[aeiou]"</span><span class="p">)</span><span class="w"> </span><span class="c1"># tells us T/F if the word contains any of the vowels in the given range.</span><span class="w">
</span><span class="n">str_replace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="s2">"[aeiou]"</span><span class="p">,</span><span class="w"> </span><span class="s2">"!"</span><span class="p">)</span><span class="w"> </span><span class="c1"># we can replace any vowels in the specified range with a ```!``` in their respective words</span><span class="w">
</span></code></pre></div></div>
          <hr>
          <footer>
              <div class="d-flex mt-2">
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/lost-stats/lost-stats.github.io/edit/source/Data_Manipulation/Regular_Expressions.md" id="edit-this-page">Edit this page on GitHub.</a>
                  </p>
              </div>
          </footer>
      </div>
    </div>
      <div class="search-overlay"></div>
  </div>
</body>
</html>
