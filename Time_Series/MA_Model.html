
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>MA Models | LOST</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="MA Models" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="LOST" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"MA Models","url":"/Time_Series/MA_Model.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } } });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML">
  </script>
</head>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>
  <div class="side-bar">
    <div class="site-header">
      <a href="/" class="site-title lh-tight">
  LOST
</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/data_manipulation.html" class="nav-list-link">Data Manipulation</a><ul class="nav-list "><li class="nav-list-item "><a href="/Data_Manipulation/Regular_Expressions.html" class="nav-list-link">Regular Expressions</a></li><li class="nav-list-item "><a href="/Data_Manipulation/collapse_a_data_set.html" class="nav-list-link">Collapse a Data Set</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/Combining_Datasets/combining_datasets_overview.html" class="nav-list-link">Combining Datasets</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Combining_Datasets/combining_datasets_vertical_combination.html" class="nav-list-link">Vertical Combination</a>
                      </li><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Combining_Datasets/combining_datasets_horizontal_merge_deterministic.html" class="nav-list-link">Horizontal Combination (Deterministic)</a>
                      </li></ul></li><li class="nav-list-item "><a href="/Data_Manipulation/creating_a_variable_with_group_calculations.html" class="nav-list-link">Creating a Variable with Group Calculations</a></li><li class="nav-list-item "><a href="/Data_Manipulation/creating_categorical_variables.html" class="nav-list-link">Creating Categorical Variables</a></li><li class="nav-list-item "><a href="/Data_Manipulation/Creating_Dummy_Variables/creating_dummy_variables.html" class="nav-list-link">Creating Dummy Variables</a></li><li class="nav-list-item "><a href="/Data_Manipulation/determine_the_observation_level_of_a_data_set.html" class="nav-list-link">Determine the Observation Level of a Data Set</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Data_Manipulation/Reshaping/reshape.html" class="nav-list-link">Reshaping Data</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_wide_to_long.html" class="nav-list-link">Reshape Panel Data from Wide to Long</a>
                      </li><li class="nav-list-item ">
                        <a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_long_to_wide.html" class="nav-list-link">Reshape Panel Data from Long to Wide</a>
                      </li></ul></li><li class="nav-list-item "><a href="/Data_Manipulation/rowwise_calculations.html" class="nav-list-link">Rowwise Calculations</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Geo-Spatial/Geo-spatial.html" class="nav-list-link">Geo-Spatial</a><ul class="nav-list "><li class="nav-list-item "><a href="/Geo-Spatial/choropleths.html" class="nav-list-link">Choropleths</a></li><li class="nav-list-item "><a href="/Geo-Spatial/geocoding.html" class="nav-list-link">Geocoding</a></li><li class="nav-list-item "><a href="/Geo-Spatial/handling_raster_data.html" class="nav-list-link">Handling Raster Data</a></li><li class="nav-list-item "><a href="/Geo-Spatial/merging_shape_files.html" class="nav-list-link">Merging Shape Files</a></li><li class="nav-list-item "><a href="/Geo-Spatial/spatial_joins.html" class="nav-list-link">Spatial Joins</a></li><li class="nav-list-item "><a href="/Geo-Spatial/spatial_lag_model.html" class="nav-list-link">Spatial Lag Model</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Machine_Learning/Machine_Learning.html" class="nav-list-link">Machine Learning</a><ul class="nav-list "><li class="nav-list-item "><a href="/Machine_Learning/Nearest_Neighbor.html" class="nav-list-link">K-Nearest Neighbor Matching</a></li><li class="nav-list-item "><a href="/Machine_Learning/artificial_neural_network.html" class="nav-list-link">Artificial Neural Network</a></li><li class="nav-list-item "><a href="/Machine_Learning/boosted_regression_trees.html" class="nav-list-link">Boosted Regression Trees</a></li><li class="nav-list-item "><a href="/Machine_Learning/causal_forest.html" class="nav-list-link">Causal Forest</a></li><li class="nav-list-item "><a href="/Machine_Learning/decision_trees.html" class="nav-list-link">Decision Trees</a></li><li class="nav-list-item "><a href="/Machine_Learning/penalized_regression.html" class="nav-list-link">Penalized Regression</a></li><li class="nav-list-item "><a href="/Machine_Learning/random_forest.html" class="nav-list-link">Random Forest</a></li><li class="nav-list-item "><a href="/Machine_Learning/support_vector_machine.html" class="nav-list-link">Support Vector Machine</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Model_Estimation.html" class="nav-list-link">Model Estimation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/OLS/OLS.html" class="nav-list-link">Ordinary Least Squares</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/ANOVA.html" class="nav-list-link">ANOVA</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/simple_linear_regression.html" class="nav-list-link">Simple Linear Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/stepwise_regression.html" class="nav-list-link">Stepwise Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/interaction_terms_and_polynomials.html" class="nav-list-link">Interaction Terms and Polynomials</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/OLS/fixed_effects_in_linear_regression.html" class="nav-list-link">Fixed Effects in Linear Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Matching/matching.html" class="nav-list-link">Matching</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Matching/entropy_balancing.html" class="nav-list-link">Entropy Balancing</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Matching/propensity_score_matching.html" class="nav-list-link">Propensity Score Matching</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/GLS/GLS.html" class="nav-list-link">Generalised Least Squares</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/gmm.html" class="nav-list-link">Generalized Method of Moments</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/heckman_correction_model.html" class="nav-list-link">Heckman Correction Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/logit_model.html" class="nav-list-link">Logit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/mcfaddens_choice_model.html" class="nav-list-link">McFadden's Choice Model (Alternative-Specific Conditional Logit)</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/ordered_probit_logit.html" class="nav-list-link">Ordered Probit/Logit</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/probit_model.html" class="nav-list-link">Probit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/tobit.html" class="nav-list-link">Tobit Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/GLS/quantile_regression.html" class="nav-list-link">Quantile Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Multilevel_Models/Multilevel_Models.html" class="nav-list-link">Multilevel Models</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/linear_mixed_effects_regression.html" class="nav-list-link">Linear Mixed-Effects Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/mixed_logit.html" class="nav-list-link">Mixed Logit Model</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Multilevel_Models/random_mixed_effects_estimation.html" class="nav-list-link">Random/Mixed Effects in Linear Regression</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Research_Design/Research_Design.html" class="nav-list-link">Research Design</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/density_discontinuity_test.html" class="nav-list-link">Density Discontinuity Tests for Regression Discontinuity</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/event_study.html" class="nav-list-link">Difference in Differences Event Study</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/instrumental_variables.html" class="nav-list-link">Instrumental Variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/regression_discontinuity_design.html" class="nav-list-link">Regression Discontinuity Design</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/synthetic_control_method.html" class="nav-list-link">Synthetic Control</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Research_Design/two_by_two_difference_in_difference.html" class="nav-list-link">2x2 Difference in Difference</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Model_Estimation/Statistical_Inference/Statistical_Inference.html" class="nav-list-link">Statistical Inference</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/Marginal_Effects_in_Nonlinear_Regression.html" class="nav-list-link">Marginal Effects in Nonlinear Regression</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/linear_hypothesis_tests.html" class="nav-list-link">Linear Hypothesis Tests</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/nonlinear_hypothesis_tests.html" class="nav-list-link">Nonlinear Hypothesis Tests</a>
                      </li><li class="nav-list-item ">
                        <a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/nonstandard_errors.html" class="nav-list-link">Nonstandard Errors</a>
                      </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Presentation.html" class="nav-list-link">Presentation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Figures/Figures.html" class="nav-list-link">Figures</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Adding_and_Labeling_a_Reference_Line.html" class="nav-list-link">Adding and Labeling a Reference Line</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Animated_graphs.html" class="nav-list-link">Animated Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Scatterplots.html" class="nav-list-link">Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/Styling_Scatterplots.html" class="nav-list-link">Styling Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/bar_graphs.html" class="nav-list-link">Bar Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/binscatter.html" class="nav-list-link">Binned Scatterplots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/color_palettes.html" class="nav-list-link">Color Palettes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/density_plots.html" class="nav-list-link">Density Plots</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/faceted_graphs.html" class="nav-list-link">Faceted Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/formatting_graph_axes.html" class="nav-list-link">Formatting Graph Axes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/formatting_graph_legends.html" class="nav-list-link">Formatting Graph Legends</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/graph_themes.html" class="nav-list-link">Graph Themes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/heatmap_colored_correlation_matrix.html" class="nav-list-link">Heatmap Colored Correlation Matrix</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/histograms.html" class="nav-list-link">Histograms</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/line_graph_with_labels_at_the_beginning_or_end.html" class="nav-list-link">Line Graph with Labels at the Beginning or End of Lines</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/line_graphs.html" class="nav-list-link">Line Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_categorical_variables.html" class="nav-list-link">Marginal effects plots for interactions with categorical variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_continuous_variables.html" class="nav-list-link">Marginal Effects Plots for Interactions with Continuous Variables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/sankey_diagrams.html" class="nav-list-link">Sankey Diagrams</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/scatterplot_by_group_on_shared_axes.html" class="nav-list-link">Scatterplot by Group on Shared Axes</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/styling_line_graphs.html" class="nav-list-link">Styling Line Graphs</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Figures/summary_graphs.html" class="nav-list-link">Graphing a By-Group or Over-Time Summary Statistic</a>
                      </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Presentation/Tables/Tables.html" class="nav-list-link">Tables</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Balance_Tables.html" class="nav-list-link">Balance Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Correlation_Matrix.html" class="nav-list-link">Correlation Matrix</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Cross-Tabulation.html" class="nav-list-link">Cross-Tabulation</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Custom_Tables.html" class="nav-list-link">Building Custom Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Regression_Tables.html" class="nav-list-link">Regression Tables</a>
                      </li><li class="nav-list-item ">
                        <a href="/Presentation/Tables/Summary_Statistics_Tables.html" class="nav-list-link">Summary Statistics Tables</a>
                      </li></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Time_Series/Time_Series.html" class="nav-list-link">Time Series</a><ul class="nav-list "><li class="nav-list-item "><a href="/Time_Series/AR-models.html" class="nav-list-link">AR Models</a></li><li class="nav-list-item "><a href="/Time_Series/ARCH_Model.html" class="nav-list-link">ARCH Model</a></li><li class="nav-list-item "><a href="/Time_Series/ARIMA-models.html" class="nav-list-link">ARIMA Models</a></li><li class="nav-list-item "><a href="/Time_Series/ARMA-models.html" class="nav-list-link">ARMA Models</a></li><li class="nav-list-item "><a href="/Time_Series/Autocorrelation_Function.html" class="nav-list-link">Autocorrelation Function</a></li><li class="nav-list-item "><a href="/Time_Series/GARCH_Model.html" class="nav-list-link">GARCH Model</a></li><li class="nav-list-item "><a href="/Time_Series/Granger_Causality.html" class="nav-list-link">Granger Causality</a></li><li class="nav-list-item  active"><a href="/Time_Series/MA_Model.html" class="nav-list-link active">MA Models</a></li><li class="nav-list-item "><a href="/Time_Series/Rolling_Regression.html" class="nav-list-link">Rolling Regression</a></li><li class="nav-list-item "><a href="/Time_Series/State_Space_Models.html" class="nav-list-link">State Space Models</a></li><li class="nav-list-item "><a href="/Time_Series/VAR-models.html" class="nav-list-link">VAR Models</a></li><li class="nav-list-item "><a href="/Time_Series/creating_time_series_dataset.html" class="nav-list-link">Creating a Time Series Dataset</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/Other/Other.html" class="nav-list-link">Other</a><ul class="nav-list "><li class="nav-list-item "><a href="/Other/create_a_conda_package.html" class="nav-list-link">Create a Conda Package (Python)</a></li><li class="nav-list-item "><a href="/Other/get_a_list_of_files.html" class="nav-list-link">Get a List of Files</a></li><li class="nav-list-item "><a href="/Other/import_a_foreign_data_file.html" class="nav-list-link">Import a Foreign Data File</a></li><li class="nav-list-item "><a href="/Other/importing_delimited_files.html" class="nav-list-link">Import a Delimited Data File (CSV, TSV)</a></li><li class="nav-list-item "><a href="/Other/set_a_working_directory.html" class="nav-list-link">Set a Working Directory</a></li><li class="nav-list-item "><a href="/Other/simple_web_scrape.html" class="nav-list-link">Simple Web Scraping</a></li><li class="nav-list-item "><a href="/Other/task_scheduling_with_github_actions.html" class="nav-list-link">Task Scheduling with Github Actions</a></li></ul></li><li class="nav-list-item"><a href="/Desired_Nonexistent_Pages/desired_nonexistent_pages.html" class="nav-list-link">Desired Nonexistent Pages</a></li><li class="nav-list-item"><a href="/Contributing/Contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul>
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search LOST" aria-label="Search LOST" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
                <li class="breadcrumb-nav-list-item"><a href="/Time_Series/Time_Series.html">Time Series</a></li>
              <li class="breadcrumb-nav-list-item"><span>MA Models</span></li>
            </ol>
          </nav>
      <div id="main-content" class="main-content" role="main">
          <h1 id="moving-average-ma-models">
          <a href="#moving-average-ma-models" aria-labelledby="moving-average-ma-models" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Moving Average (MA) Models
      </h1>
<p>Moving Average Models are a common method for modeling linear processes that exhibit serial correlation. This can take many forms, but an easy example is weather patterns.</p>
<p>Imagine we modelled Ski Lift Purchases over a 5 consecutive weekday period. Let weather shocks be identically and independently distributed. A weather shock with large amounts of snow would cause more individuals to go ski. This shock would have future impacts on ski ticket purchases; individuals tomorrow will go skiing due
to the snowfall today. This means when we think of the process, we should account for previous shock effects on outcomes today:</p>
\[SkiTicketPurchases_t = \mu + \theta_1*Weather_t + \theta_2*Weather_{t-1}\]
      <h2 id="definition">
          <a href="#definition" aria-labelledby="definition" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Definition
      </h2>
<p>Let \(\epsilon_t \sim N(0, \sigma^2_{\epsilon})\). A moving average
process, which is denoted MA(q), take the form as:</p>
\[y_t = \mu + \epsilon_t + \theta_1 \epsilon_{t-1} + ... + \theta_q \epsilon_{t-q}\]
<p>Note that a MA(q) process has <em>q lagged \(\epsilon\) terms</em>. Thus a MA(1)
process would take the form:</p>
\[y_t = \mu + \epsilon_t + \theta_1 \epsilon_{t-1}\]
      <h2 id="properties-of-a-ma1-process">
          <a href="#properties-of-a-ma1-process" aria-labelledby="properties-of-a-ma1-process" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Properties of a MA(1) process:
      </h2>
<ol>
  <li>The mean is constant.</li>
</ol>
\[E(y_t) = E(\mu + \epsilon_t + \theta_1 \epsilon_{t-1}) = \mu\]
<ol>
  <li>The variance is constant.</li>
</ol>
\[Var(y_t) = Var(\mu + \epsilon_t + \theta_1 \epsilon_{t-1}) = (1 + \theta_1^2) * \sigma^2_{\epsilon}\]
<ol>
  <li>The covariance between \(y_t\) and \(y_{t-q}\) is decreasing as \(q \to \infty\).</li>
</ol>
\[Cov(y_t, y_{t-1}) = E(y_t*y_{t-1}) - E(y_t)E(y_{t-1}) \\
    = E([\mu + \epsilon_t + \theta_1 \epsilon_{t-1}] [\mu + \epsilon_{t-1} + \theta_1 \epsilon_{t-2}]) - \mu^2 \\
    = \mu^2 + \theta_1 \sigma_{\epsilon}^2 -\mu^2 \\
    = \theta_1 \sigma_{\epsilon}^2\]
\[Cov(y_t, y_{t-2}) = E(y_t*y_{t-2}) - E(y_t)E(y_{t-2}) \\
= E([\mu + \epsilon_t + \theta_1 \epsilon_{t-1}] [\mu + \epsilon_{t-2} + \theta_1 \epsilon_{t-3}]) - \mu^2 \\
= \mu^2 -\mu^2 \\
= 0\]
<p>Additional helpful information can be found at <a href="https://en.wikipedia.org/wiki/Moving-average_model">Wikipedia: Moving Average Models</a></p>
      <h2 id="keep-in-mind">
          <a href="#keep-in-mind" aria-labelledby="keep-in-mind" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Keep in Mind
      </h2>
<ul>
  <li>Time series data needs to be properly formatted (e.g.Â date columns should be formatted into a time)</li>
  <li>Model Selection uses the Akaike Information Criterion (AIC), Bayesian Information Criterion (BIC), or the Akaike Information Criterion corrected (AICc) to determine the appropriate number of terms to include. Refer to <a href="https://en.wikipedia.org/wiki/Model_selection#Criteria">Wikipedia:Model Selection</a> for further information.</li>
</ul>
      <h1 id="implementations">
          <a href="#implementations" aria-labelledby="implementations" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementations
      </h1>
      <h2 id="julia">
          <a href="#julia" aria-labelledby="julia" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Julia
      </h2>
<p>MA(q) models in Julia can be estimated using the StateSpaceModels.jl package, which also allows for the estimation of a variety of time series models that have linear state-space representations.</p>
<p>Begin by importing and loading necessary packages into your work environment.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Load necessary packages</span>
<span class="k">using</span> <span class="n">StateSpaceModels</span><span class="x">,</span> <span class="n">LinearAlgebra</span><span class="x">,</span> <span class="n">ShiftedArrays</span>
</code></pre></div></div>
<p>We may simulate an MA(3) model, where the MA coefficients are set to \(\theta_1 = 0.5\), \(\theta_2 = 0.3\), and \(\theta_3 = 0.2\).</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Set parameters </span>
<span class="n">theta1</span><span class="x">,</span> <span class="n">theta2</span><span class="x">,</span> <span class="n">theta3</span> <span class="o">=</span> <span class="x">(</span><span class="mf">0.5</span><span class="x">,</span> <span class="mf">0.3</span><span class="x">,</span> <span class="mf">0.2</span><span class="x">)</span>

<span class="c"># Draw a sample of an iid N(0,1) disturbance/noise process</span>
<span class="c"># Set number of observations to 1000</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">randn</span><span class="x">(</span><span class="mi">1000</span><span class="x">)</span>

<span class="c"># Simulate MA(3) process</span>
 <span class="n">Y</span> <span class="o">=</span> <span class="n">u</span> <span class="o">+</span> <span class="n">theta1</span> <span class="o">.*</span> <span class="n">lag</span><span class="x">(</span><span class="n">u</span><span class="x">,</span> <span class="mi">1</span><span class="x">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mf">0.0</span><span class="x">)</span> <span class="o">+</span> <span class="n">theta2</span> <span class="o">.*</span> <span class="n">lag</span><span class="x">(</span><span class="n">u</span><span class="x">,</span> <span class="mi">2</span><span class="x">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mf">0.0</span><span class="x">)</span> <span class="o">+</span> <span class="n">theta3</span> <span class="o">.*</span> <span class="n">lag</span><span class="x">(</span><span class="n">u</span><span class="x">,</span> <span class="mi">3</span><span class="x">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mf">0.0</span><span class="x">)</span>
 
<span class="c"># Remove first 3 observations</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">Y</span><span class="x">[</span><span class="mi">4</span><span class="o">:</span><span class="k">end</span><span class="x">]</span>       
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">lag(u, k, default = 0.0)</code> portions of the above code chunk creates a <code class="language-plaintext highlighter-rouge">k</code>-lag of series <code class="language-plaintext highlighter-rouge">u</code>, and sets the missing observations equal to 0.0.</p>
<p>The data generated by a single sample draw from the above data-generating process can then be assigned a general ARIMA(p,d,q) representation, where if <code class="language-plaintext highlighter-rouge">p</code> and <code class="language-plaintext highlighter-rouge">d</code> are set to zero, the model specification becomes MA(q). The <code class="language-plaintext highlighter-rouge">p</code>=<code class="language-plaintext highlighter-rouge">d</code>= 0 constraint can be applied by inputting <code class="language-plaintext highlighter-rouge">order = (0,0,q)</code>, where <code class="language-plaintext highlighter-rouge">q</code>&gt;0.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Specify the generated Y series as an MA(3) model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">SARIMA</span><span class="x">(</span><span class="n">Y</span><span class="x">,</span> <span class="n">order</span> <span class="o">=</span> <span class="x">(</span><span class="mi">0</span><span class="x">,</span><span class="mi">0</span><span class="x">,</span><span class="mi">3</span><span class="x">))</span>
</code></pre></div></div>
<p>Lastly, the above-specified model can be estimated using the <code class="language-plaintext highlighter-rouge">fit!</code> function, and the estimation results printed using the <code class="language-plaintext highlighter-rouge">results</code> function. The sole input for both of these functions is the <code class="language-plaintext highlighter-rouge">model</code> object that contains the chosen data series and its assigned ARIMA structure.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Fit (estimate) the model</span>
<span class="n">fit!</span><span class="x">(</span><span class="n">model</span><span class="x">)</span>

<span class="c"># Print estimates</span>
<span class="n">results</span><span class="x">(</span><span class="n">model</span><span class="x">)</span>
</code></pre></div></div>
      <h2 id="r">
          <a href="#r" aria-labelledby="r" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> R
      </h2>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#in the stats package we can simulate an ARIMA Model. ARIMA stands for Auto-Regressive Integrated Moving Average model. We will be setting the AR and I parts to 0 and only simulating a MA(q) model.</span><span class="w">
</span><span class="n">set.seed</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arima.sim</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">ma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">)))</span><span class="w">

</span><span class="n">plot</span><span class="p">(</span><span class="n">DT</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Value"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p><img src="/Time_Series/Images/MA_Model/plot1.png" alt="A plot of our data generating process; x-axis is time and y-axis is the values produced." /></p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arima.sim</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">ma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">)))</span><span class="w">

</span><span class="c1">#ACF stands for Autocorrelation Function</span><span class="w">
</span><span class="c1">#Here we can see that there may be potential for 3 lags in our MA process. (Note: This is due to property (3): the covariance of y_t and y_{t-3} is nonzero while the covariance of y_t and y_{t-4} is 0)</span><span class="w">
</span><span class="n">acf</span><span class="p">(</span><span class="n">DT</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"covariance"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p><img src="/Time_Series/Images/MA_Model/ACF.png" alt="A plot of the autocorrelation function: this shows the correlation between $y_t$ and different lagged values of $y_t$. The first four correlations (starting with the correlation of $y_t$ and $y_t$) are positive and then the rest are close to 0; this is what we would expect from the data generating process." /></p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arima.sim</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">ma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">)))</span><span class="w">

</span><span class="c1">#Here I'm estimating an ARIMA(0,0,3) model which is a MA(3) model. Changing c(0,0,q) allows us to estimate a MA(q) process.</span><span class="w">
</span><span class="n">arima</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">3</span><span class="p">))</span><span class="w">

    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Call:</span><span class="w">
    </span><span class="c1">## arima(x = DT, order = c(0, 0, 3))</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3  intercept</span><span class="w">
    </span><span class="c1">##       0.0722  0.2807  0.4781     0.0265</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294     0.0573</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9825:  log likelihood = -1410.63,  aic = 2831.25</span><span class="w">

</span><span class="c1">#We can also estimate a MA(7) model and see that the ma4, ma5, ma6, and ma7 are close to 0 and insignificant.</span><span class="w">
</span><span class="n">arima</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">7</span><span class="p">))</span><span class="w">


    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Call:</span><span class="w">
    </span><span class="c1">## arima(x = DT, order = c(0, 0, 7))</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3      ma4      ma5      ma6      ma7  intercept</span><span class="w">
    </span><span class="c1">##       0.0714  0.2694  0.4607  -0.0119  -0.0380  -0.0256  -0.0219     0.0267</span><span class="w">
    </span><span class="c1">## s.e.  0.0316  0.0321  0.0324   0.0363   0.0339   0.0332   0.0328     0.0533</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9806:  log likelihood = -1409.65,  aic = 2837.3</span><span class="w">

</span><span class="c1">#fable is a package designed to estimate ARIMA models. We can use it to estimate our MA(3) model.</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">fable</span><span class="p">)</span><span class="w">
</span><span class="c1">#an extension of tidyverse to temporal data (this allows us to create time series data into tibbles which are needed for fable functionality)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">tsibble</span><span class="p">)</span><span class="w">
</span><span class="c1">#visit https://dplyr.tidyverse.org/ to understand dplyr syntax; this package is important for fable functionality</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">

</span><span class="c1">#When using the fable package, we need to convert our object into a tsibble (a time series tibble). This gives us a data frame with values and an index for the time periods</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">as_tsibble</span><span class="p">()</span><span class="w">

</span><span class="n">head</span><span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="w">

    </span><span class="c1">## # A tsibble: 6 x 2 [1]</span><span class="w">
    </span><span class="c1">##   index  value</span><span class="w">
    </span><span class="c1">##   &lt;dbl&gt;  &lt;dbl&gt;</span><span class="w">
    </span><span class="c1">## 1     1 -0.123</span><span class="w">
    </span><span class="c1">## 2     2  0.489</span><span class="w">
    </span><span class="c1">## 3     3  2.53</span><span class="w">
    </span><span class="c1">## 4     4  0.706</span><span class="w">
    </span><span class="c1">## 5     5 -0.640</span><span class="w">
    </span><span class="c1">## 6     6  0.182</span><span class="w">

</span><span class="c1">#Now we can use the dplyr package to pipe our dataset and create a fitted model</span><span class="w">
</span><span class="c1">#Note: the ARIMA function in the fable package uses an information criterion for model selection; these can be set as shown below; additional information is above in the Keep in Mind section (the default criterion is aicc)</span><span class="w">
</span><span class="n">MAfit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">model</span><span class="p">(</span><span class="n">arima</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">ic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aicc"</span><span class="p">))</span><span class="w">

</span><span class="c1">#report() is needed to view our model</span><span class="w">
</span><span class="n">report</span><span class="p">(</span><span class="n">MAfit</span><span class="p">)</span><span class="w">

    </span><span class="c1">## Series: value</span><span class="w">
    </span><span class="c1">## Model: ARIMA(0,0,3)</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3</span><span class="w">
    </span><span class="c1">##       0.0723  0.2808  0.4782</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9857:  log likelihood=-1410.73</span><span class="w">
    </span><span class="c1">## AIC=2829.47   AICc=2829.51   BIC=2849.1</span><span class="w">

</span><span class="c1">#if instead we want to specify the model manually, we need to specify it. For MA models, set the pdq(0,0,q) term to the MA(q) order you want to estimate. For example: Estimating a MA(7) would mean that I should put pdq(0,0,7). Additionally, you can add a constant if wanted; this is shown below</span><span class="w">

</span><span class="c1">#with constant</span><span class="w">
</span><span class="n">MAfit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">model</span><span class="p">(</span><span class="n">arima</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pdq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="n">ic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aicc"</span><span class="p">))</span><span class="w">

</span><span class="n">report</span><span class="p">(</span><span class="n">MAfit</span><span class="p">)</span><span class="w">

    </span><span class="c1">## Series: value</span><span class="w">
    </span><span class="c1">## Model: ARIMA(0,0,3) w/ mean</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3  constant</span><span class="w">
    </span><span class="c1">##       0.0722  0.2807  0.4781    0.0265</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294    0.0573</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9865:  log likelihood=-1410.63</span><span class="w">
    </span><span class="c1">## AIC=2831.25   AICc=2831.31   BIC=2855.79</span><span class="w">

</span><span class="c1">#without constant</span><span class="w">
</span><span class="n">MAfit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">model</span><span class="p">(</span><span class="n">arima</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pdq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="n">ic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aicc"</span><span class="p">))</span><span class="w">

</span><span class="n">report</span><span class="p">(</span><span class="n">MAfit</span><span class="p">)</span><span class="w">

    </span><span class="c1">## Series: value</span><span class="w">
    </span><span class="c1">## Model: ARIMA(0,0,3)</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3</span><span class="w">
    </span><span class="c1">##       0.0723  0.2808  0.4782</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9857:  log likelihood=-1410.73</span><span class="w">
    </span><span class="c1">## AIC=2829.47   AICc=2829.51   BIC=2849.1</span><span class="w">

</span><span class="c1">#A faster, more compact way to write a code would be as follows:</span><span class="w">

</span><span class="c1">#Automatic estimation</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">as_tsibble</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">model</span><span class="p">(</span><span class="n">arima</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">(</span><span class="n">value</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">report</span><span class="p">()</span><span class="w">

    </span><span class="c1">## Series: value</span><span class="w">
    </span><span class="c1">## Model: ARIMA(0,0,3)</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3</span><span class="w">
    </span><span class="c1">##       0.0723  0.2808  0.4782</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9857:  log likelihood=-1410.73</span><span class="w">
    </span><span class="c1">## AIC=2829.47   AICc=2829.51   BIC=2849.1</span><span class="w">

</span><span class="c1">#Manual estimation</span><span class="w">
</span><span class="n">DT</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">as_tsibble</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">model</span><span class="p">(</span><span class="n">arima</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pdq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">report</span><span class="p">()</span><span class="w">

    </span><span class="c1">## Series: value</span><span class="w">
    </span><span class="c1">## Model: ARIMA(0,0,3)</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## Coefficients:</span><span class="w">
    </span><span class="c1">##          ma1     ma2     ma3</span><span class="w">
    </span><span class="c1">##       0.0723  0.2808  0.4782</span><span class="w">
    </span><span class="c1">## s.e.  0.0278  0.0255  0.0294</span><span class="w">
    </span><span class="c1">##</span><span class="w">
    </span><span class="c1">## sigma^2 estimated as 0.9857:  log likelihood=-1410.73</span><span class="w">
    </span><span class="c1">## AIC=2829.47   AICc=2829.51   BIC=2849.1</span><span class="w">
</span></code></pre></div></div>
          <hr>
          <footer>
              <div class="d-flex mt-2">
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/lost-stats/lost-stats.github.io/edit/source/Time_Series/MA_Model.md" id="edit-this-page">Edit this page on GitHub.</a>
                  </p>
              </div>
          </footer>
      </div>
    </div>
      <div class="search-overlay"></div>
  </div>
</body>
</html>
